<%- include('../partials/header.ejs') %>

<style>
    table{background-color: #84B6FF;}    
    th{text-align: left; background-color: #3B93A1; color: white}
    table,th,td{
        border: 2px solid #06296D;
        border-collapse: collapse;
    }
   

</style>

<% const boarderArray = []; %>


<div class = "flex justify-center" ><button id = "button" class = " font text-xxl mr-20 font-semibold"> GO BACK </button></div>
<div class = "flex justify-center"> 
    <table id = "table" width = "1750" class = "font text-xl font-semibold border-solid border" >
        <tr class = "border-solid bg-gray-400">
            <th width = "100" > Name </th>
            <th width = "150"> Contact</th>
            <th width = "200"> Rent Fee</th>
            <th width = "200"> Rent Due</th>
            <th width = "200"> Rent Pay Status</th>
            <th width = "200"> Water Bill</th>
            <th width = "200"> Water Pay Status</th>
            <th width = "200"> Electricity Meter</th>
            <th width = "200"> Electricity Bill</th>
            <th width = "250"> Electricity Pay Status</th>
        </tr>

            <% if(data.length > 0){
                for (var i = 0; i < data.length; i++){
                    %> <tr class = "border-solid">
                        <td width = "100"><%= data[i].boarderName%></td>
                        <td width = "150"><%= data[i].boarderContact%></td>
                        <td width = "250"><%= data[i].boarderRent%></td>
                        <td width = "250"><%= data[i].boarderRentDue%></td>
                        <td width = "250"> 
                            <form action = "" method = "post" >
                                <select name = "payStatus">
                                    <% if (data[i].boarderRentStatus == "Not Paid"){ %> <option value="Not Paid">Not Paid</option> <option value="Paid">Paid </option> <% } %>
                                    <% if (data[i].boarderRentStatus == "Paid"){ %> <option value="Paid">Paid</option> <option value="Not Paid">Not Paid</option><% } %>
                        </td>



                        <td width = "200">  <%= data[i].boarderWater %> </td>
                        <td width = "200"><select name = "waterStatus">
                                    <% if (data[i].boarderWaterStatus == "Not Paid"){ %> <option value="Not Paid">Not Paid</option> <option value="Paid">Paid </option> <% } %>
                                    <% if (data[i].boarderWaterStatus == "Paid"){ %> <option value="Paid">Paid</option> <option value="Not Paid">Not Paid</option><% } %>  
                            </td>


                        <td width = "200"> <input name = "elect" type = "text" value = "<%= data[i].boarderElect %>"></td>
                        <td width = "200"> <%= data[i].boarderElectPay %></td>
                        <td width = "200"><select name = "electStatus">
                                    <% if (data[i].boarderElectStatus == "Not Paid"){ %> <option value="Not Paid">Not Paid</option> <option value="Paid">Paid </option> <% } %>
                                    <% if (data[i].boarderElectStatus == "Paid"){ %> <option value="Paid">Paid</option> <option value="Not Paid">Not Paid</option><% } %>
                            </select> 
                            <input value = "Update" class = "w-20 rounded-xl" type = "submit">
                            <input type = "hidden" name = "index" value = "<%= data[i].id %>">
                            
                        </form>
                            
                                
                        </td>
                        </tr>

                    
            <%   }
            }  %> 
    </table>
</div>

<script>
        const button = document.getElementById("button");
        
        button.addEventListener('click', () =>{
            window.location.href = "/display";

        })
        
    </script>

    

</body>
</html>